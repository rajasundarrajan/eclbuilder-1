(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/HTMLWidget","goog!visualization,1,packages:[corechart]"],t):e.google_Common=t(e.d3,e.common_HTMLWidget)})(this,function(e,t){function n(e){t.call(this),this._tag="div",this._chartLibrary="visualization",this._selection={}}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype._class+=" google_Common",n.prototype.publish("fontSize",null,"number","Font Size",null,{tags:["Basic","Shared"]}),n.prototype.publish("fontFamily",null,"string","Font Name",null,{tags:["Basic","Shared"]}),n.prototype.publish("fontColor",null,"html-color","Font Color",null,{tags:["Basic","Shared"]}),n.prototype.publish("showLegend",!1,"boolean","Show Legend",null,{tags:["Basic","Shared"]}),n.prototype.publish("legendFontColor",null,"html-color","Legend Font Color",null,{tags:["Private"]}),n.prototype.publish("legendFontFamily",null,"string","Legend Font Name",null,{tags:["Private"]}),n.prototype.publish("legendFontSize",null,"number","Legend Font Size",null,{tags:["Private"]}),n.prototype.publish("legendFontBold",!1,"boolean","Legend Font Bold",null,{tags:["Private"]}),n.prototype.publish("legendFontItalic",!1,"boolean","Legend Font Italic",null,{tags:["Private"]}),n.prototype.publish("chartAreaWidth",null,"string","Chart Area Width",null,{tags:["Advanced"]}),n.prototype.publish("chartAreaHeight",null,"string","Chart Area Height",null,{tags:["Advanced"]}),n.prototype.publish("chartAreaTop",null,"string","Chart Area Distance From Top",null,{tags:["Advanced"]}),n.prototype.publish("chartAreaLeft",null,"string","Chart Area Distance From Left",null,{tags:["Advanced"]}),n.prototype.publish("legendAlignment","center","set","Legend Alignment",["","start","center","end"],{tags:["Private"]}),n.prototype.publish("legendPosition","right","set","Legend Position",["","bottom","labeled","left","right","top"],{tags:["Private"]}),n.prototype.publish("animationDuration",0,"number","Animation Duration",null,{tags:["Advanced"]}),n.prototype.publish("animationOnStartup",!0,"boolean","Animate On Startup",null,{tags:["Advanced"]}),n.prototype.publish("animationEasing","linear","set","Animation Easing",["linear","in","out","inAndOut"],{tags:["Advanced"]}),n.prototype.publish("title","","string","Text To Display Above The Chart",null,{tags:["Private"]}),n.prototype.publish("titlePosition","out","set","Position of Title",["in","out","none"],{tags:["Private"]}),n.prototype.publish("backgroundColorStroke",null,"html-color","Background Border Color",null,{tags:["Advanced","Shared"]}),n.prototype.publish("backgroundColorStrokeWidth",0,"number","Background Border Width",null,{tags:["Advanced","Shared"]}),n.prototype.publish("backgroundColorFill","transparent","html-color","Background Color",null,{tags:["Advanced","Shared"]}),n.prototype.formatData=function(){var e=null;return this.data().length?e=[this.columns()].concat(this.data().map(function(e,t){return e.map(function(e,n){return n>0?(isNaN(e)&&console.log("Invalid Data:  "+e+" ("+t+", "+n+")"),parseFloat(e)):e})})):e=[["",{role:"annotation"}],["",""]],google.visualization.arrayToDataTable(e)},n.prototype.getChartOptions=function(){var e=this.columns().filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this),t={backgroundColor:{stroke:this.backgroundColorStroke(),strokeWidth:this.backgroundColorStrokeWidth(),fill:this.backgroundColorFill()},width:this.width(),height:this.height(),colors:e,fontSize:this.fontSize(),fontName:this.fontFamily(),fontColor:this.fontColor(),title:this.title(),titlePosition:this.titlePosition(),chartArea:{width:this.chartAreaWidth(),height:this.chartAreaHeight(),left:this.chartAreaLeft(),top:this.chartAreaTop()},animation:{duration:this.animationDuration(),startup:this.animationOnStartup(),easing:this.animationEasing()},legend:{alignment:this.legendAlignment(),position:this.showLegend()?this.legendPosition():"none",maxLines:2,textStyle:{color:this.legendFontColor(),fontName:this.legendFontFamily(),fontSize:this.legendFontSize(),bold:this.legendFontBold(),italic:this.legendFontItalic()}}};return t},n.prototype.getNumSeries=function(){return this.columns().slice(1).length},n.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments),n.style("overflow","hidden")},n.prototype.init=function(e,t){if(this._chart)return;this._chart=new google[this._chartLibrary][this._chartType](e);var n=this;google.visualization.events.addListener(this._chart,"select",function(){var e=n._chart.getSelection()[0];e?n._selection={data:n.rowToObj(n.data()[e.row]),column:n.columns()[e.column]||null}:n._selection={data:{},column:null},n.click(n._selection.data,n._selection.column,Object.keys(n._selection.data).length!==0)})},n.prototype.kill=function(e,t){if(!this._chart)return;google.visualization.events.removeAllListeners(this._chart),t.html(""),delete this._chart},n.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.data().length&&this.columns().length?(this.init(e,n),this._chart.draw(this.formatData(),this.getChartOptions())):this.kill(e,n)},n});