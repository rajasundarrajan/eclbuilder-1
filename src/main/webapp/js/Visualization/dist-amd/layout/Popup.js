(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/HTMLWidget","../layout/Surface","../common/Icon"],t):e.layout_Popup=t(e.d3,e.common_HTMLWidget,e.layout_Surface,e.common_Icon)})(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._surfaceButtons=[]}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" layout_Popup",i.prototype.publish("popupState",!1,"boolean","State of the popup, visible (true) or hidden (false)",null,{}),i.prototype.publish("shrinkWrap",!1,"boolean","The popup parent container either shrinks to the size of its contents (true) or expands to fit thge popup's parentDiv (false)",null,{}),i.prototype.publish("centerPopup","none","set","Center the widget in its container element (target) or in the window",["none","container","window"],{}),i.prototype.publish("top",null,"number","Top position property of popup",null,{}),i.prototype.publish("bottom",null,"number","Bottom position property of popup",null,{}),i.prototype.publish("left",null,"number","Left position property of popup",null,{}),i.prototype.publish("right",null,"number","Right position property of popup",null,{}),i.prototype.publish("position","relative","set","Value of the 'position' property",["absolute","relative","fixed","static","initial","inherit"],{tags:["Private"]}),i.prototype.publish("widget",null,"widget","Widget",null,{tags:["Private"]}),i.prototype.updateState=function(e){e=e||!this.popupState(),this.popupState(e).render()},i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments),this.widget().target(e),this._originalPosition=this.position()},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),n.style({visibility:this.popupState()?null:"hidden",opacity:this.popupState()?null:0,width:this.shrinkWrap()?this.widget().width()+"px":this._size.width+"px",height:this.shrinkWrap()?this.widget().height()+"px":this._size.height+"px"}),this.widget().size().height===0&&this.widget().resize(this.size())},i.prototype.postUpdate=function(e,n){var r,i;switch(this.centerPopup()){case"container":this._parentElement&&(r=parseInt(this._parentElement.style("width"))/2-this.widget().width()/2,i=parseInt(this._parentElement.style("height"))/2-this.widget().height()/2),this.position("absolute");break;case"window":r=window.innerWidth/2-this.widget().width()/2,i=window.innerHeight/2-this.widget().height()/2,this.position("fixed");break;default:r=0,i=0,this.position(this._originalPosition)}this.pos({x:r,y:i}),t.prototype.postUpdate.apply(this,arguments),n.style("position",this.position()).style("left",this.left()+"px").style("right",this.right()+"px").style("top",this.top()+"px").style("bottom",this.bottom()+"px")},i.prototype.exit=function(e,n){this.widget()&&(this.widget(null),this.render()),t.prototype.exit.apply(this,arguments)},i.prototype.click=function(e){console.log("Clicked: "+e.id)},i});