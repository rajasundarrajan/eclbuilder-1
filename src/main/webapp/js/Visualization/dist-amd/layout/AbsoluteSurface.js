(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/HTMLWidget","../common/TextBox","css!./AbsoluteSurface"],t):e.layout_AbsoluteSurface=t(e.d3,e.common_HTMLWidget,e.common_TextBox)})(this,function(e,t,n){function r(){t.call(this),this._tag="div"}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" layout_AbsoluteSurface",r.prototype.publish("units","percent","set","Units",["pixels","percent"]),r.prototype.publish("widgetX",0,"number","Widget XPos"),r.prototype.publish("widgetY",0,"number","Widget YPos"),r.prototype.publish("widgetWidth","100","string","Widget Width, omit for full"),r.prototype.publish("widgetHeight","100","string","Widget Height, omit for full"),r.prototype.publish("widget",null,"widget","Widget",null,{tags:["Private"]}),r.prototype.publish("opacity",1,"number","Opacity"),r.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var r=0,i=0,s=this.clientWidth(),o=this.clientHeight();switch(this.units()){case"pixels":r=this.widgetX(),i=this.widgetY(),s=this.widgetWidth()===""?s-r:Number(this.widgetWidth()),o=this.widgetHeight()===""?o-i:Number(this.widgetHeight());break;case"percent":r=this.widgetX()*s/100,i=this.widgetY()*o/100,s=this.widgetWidth()===""?s-r:Number(this.widgetWidth()*s/100),o=this.widgetHeight()===""?o-i:Number(this.widgetHeight()*o/100)}n.style("opacity",this.opacity());var u=n.selectAll("#"+this._id+" > .placeholder").data(this.widget()?[this.widget()]:[],function(e){return e._id});u.enter().append("div").attr("class","placeholder").each(function(e){e.target(this)}),u.style({left:r+"px",top:i+"px",width:s+"px",bottom:o+"px"}).each(function(e){e.resize({width:s,height:o})}),u.exit().each(function(e){e.target(null)}).remove()},r.prototype.exit=function(e,n){this.widget()&&(this.widget(null),this.render()),t.prototype.exit.apply(this,arguments)},r});