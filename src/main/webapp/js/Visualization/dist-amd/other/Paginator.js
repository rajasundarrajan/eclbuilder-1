(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/HTMLWidget","css!./Paginator"],t):e.other_Paginator=t(e.d3,e.common_HTMLWidget)})(this,function(e,t){function n(){t.call(this),this._tag="div",this._tNumPages=1,this._numList=[]}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype._class+=" other_Paginator",n.prototype.publish("itemsPerPage",2,"number","Pagination items per page",null,{tags:["Private"]}),n.prototype.publish("numItems",10,"number","Pagination total number of items",null,{tags:["Private"]}),n.prototype.publish("pageNumber",1,"number","Pagination set or get the page number",null,{tags:["Private"]}),n.prototype.publish("adjacentPages",2,"number","Number of page indexes either side of current one",null,{tags:["Private"]}),n.prototype.publish("bottom",20,"number","Pagination bottom offset",null,{tags:["Private"]}),n.prototype.publish("right",20,"number","Pagination right offset",null,{tags:["Private"]}),n.prototype.postUpdate=function(e,t){},n.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments);var r=this;this.paginator=n.append("ul").attr("class","paginator pagination pagination-sm"),this.side=n.append("div").attr("class","paginator pagination side"),this.side.append("span").classed("side",!0).text("Page "),this.side.append("input").attr("type","number").attr("class","currentPageNumber").property("value",1).attr("min",1).on("change",function(){r.pageNumber(this.value),r._onSelect(this.value)}),this.side.append("span").classed("side total",!0).text(" of 1")},n.prototype.update=function(t,n){var r=this;n.style("bottom",this.bottom()+"px").style("right",this.right()+"px"),this._tNumPages=Math.ceil(this.numItems()/this.itemsPerPage())||1,this.pageNumber()>this._tNumPages&&this.pageNumber(1),this._numList=[];if(this.numItems()){this._numList.push("first");for(var i=-this.adjacentPages();i<=this.adjacentPages();i++)this.pageNumber()+i>0&&this.pageNumber()+i<=this._tNumPages&&this._numList.push(this.pageNumber()+i);this._numList.push("last")}this.side.select(".total").text(" of "+this._tNumPages),this.side.select(".currentPageNumber").property("value",this.pageNumber()),this.side.select(".currentPageNumber").attr("max",this._tNumPages);var s=this.paginator.selectAll("li").data(this._numList,function(e){return e});s.enter().append(function(e){var t=document.createElement("li");if(e!==r.pageNumber()){var n=document.createElement("a"),i=document.createTextNode(e);return n.appendChild(i),n.href="#",t.appendChild(n),t}var s=document.createElement("span");return s.innerHTML=e,t.appendChild(s),t}).on("click",function(t,n){e.event.preventDefault(),r.side.select(".currentPageNumber").property("value",r.pageNumber());switch(t){case"first":r.pageNumber()!==1&&(r.pageNumber(1),r._onSelect(1,"previous"));break;case"last":r.pageNumber()!==r._tNumPages&&(r.pageNumber(r._tNumPages),r._onSelect(r._tNumPages,"previous"));break;default:r.pageNumber(t),r._onSelect(t)}}),s.classed("active",function(e,t){return e===r.pageNumber()}).select("a").text(function(e){return e}),s.exit().remove(),s.order(),this.numItems()===0&&e.select(t).remove()},n.prototype.exit=function(e,n){t.prototype.exit.apply(this,arguments)},n});