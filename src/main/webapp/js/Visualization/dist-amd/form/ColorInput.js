(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/HTMLWidget","../api/IInput","css!./Input"],t):e.form_ColorInput=t(e.d3,e.common_HTMLWidget,e.api_IInput)})(this,function(e,t,n){function r(){t.call(this),n.call(this),this._tag="div",this._inputElement=[]}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" form_ColorInput",r.prototype.implements(n.prototype),r.prototype.enter=function(n,r){t.prototype.enter.apply(this,arguments);var i=this;this._inputElement[0]=r.append("input").attr("type","text"),this._inputElement[0].classed("color-text",!0),this._inputElement[1]=r.append("input").attr("type","color"),this._inputElement.forEach(function(t,n){t.on("click",function(e){e.click(e)}),t.on("blur",function(e){e.blur(e)}),t.on("change",function(t){n===0?(i._inputElement[1].property("value",e.rgb(i._inputElement[0].property("value")).toString()),i.value(i._inputElement[0].property("value"))):(i._inputElement[0].property("value",i._inputElement[1].property("value")),i.value(e.rgb(i._inputElement[1].property("value")).toString())),t.change(t)})})},r.prototype.update=function(n,r){t.prototype.update.apply(this,arguments);var i=this;this._inputElement.forEach(function(e){e.attr("name",i.name())}),this._inputElement[0].attr("type","text"),this._inputElement[1].attr("type","color"),this._inputElement[0].property("value",this.value()),this._inputElement[1].property("value",e.rgb(this.value()).toString())},r});